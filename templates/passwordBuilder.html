<!DOCTYPE html>
<html>
<head>
    <title>Password Builder</title>
    <script>
        function validatePassword() {
            var password = document.getElementById("password").value;
            var strengthMeter = document.getElementById("strength-meter");
            var strengthText = document.getElementById("strength-text");

            // Password validation logic goes here
            var hasUppercase = /[A-Z]/.test(password);
            var hasNumber = /[0-9]/.test(password);
            var hasSpecialCharacter = /[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(password);
            var isOvertenCharacters = password.length >= 10;

            if (hasUppercase && hasNumber && hasSpecialCharacter && isOvertenCharacters) {
                strengthMeter.value = 100;
                strengthText.innerHTML = "Strong";
            }
            else if (hasUppercase && hasNumber && isOvertenCharacters) {
                strengthMeter.value = 75;
                strengthText.innerHTML = "Moderate";
            }
            else if (hasUppercase && hasNumber) {
                strengthMeter.value = 50;
                strengthText.innerHTML = "Moderate";
            }
            else if (hasUppercase) {
                strengthMeter.value = 25;
                strengthText.innerHTML = "Weak";
            }
            else {
                strengthMeter.value = 0;
                strengthText.innerHTML = "Very Weak";
            }
        }
        function redirectToTestPage() {
        var password = document.getElementById("password").value; // Correctly capture the password value
        window.location.href = "/passwordTest?password=" + encodeURIComponent(password);
        }
    </script>
</head>
<body>
    <h1>Password Builder</h1>
    
    <label for="password">Enter a password:</label>
    <input type="password" id="password" onkeyup="validatePassword()" />

    <br />

    <label for="strength-meter">Password Strength:</label>
    <meter id="strength-meter" min="0" max="100" value="0"></meter>
    <span id="strength-text"></span>
    <button onclick="redirectToTestPage()">Go to Password Test</button>
</body>
</html>